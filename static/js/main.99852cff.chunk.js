(this["webpackJsonpstar-db"]=this["webpackJsonpstar-db"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},,function(e,t,r){},function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(1),s=r.n(a),c=r(10),i=r.n(c),l=(r(16),function(){return Object(n.jsxs)("div",{className:"header d-flex",children:[Object(n.jsx)("h3",{children:Object(n.jsx)("a",{href:"#",children:"Star DB"})}),Object(n.jsxs)("ul",{className:"header-links d-flex",children:[Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"#",children:"People"})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"#",children:"Planets"})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"#",children:"Starships"})})]})]})}),o=r(2),u=r(5),j=r(7),d=r(6),h=(r(17),function(){return Object(n.jsx)("div",{className:"loadingio-spinner-double-ring-quh3a49vtmd",children:Object(n.jsxs)("div",{className:"ldio-9opildb5qm5",children:[Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{children:Object(n.jsx)("div",{})}),Object(n.jsx)("div",{children:Object(n.jsx)("div",{})})]})})}),b=(r(18),function(){return Object(n.jsxs)("div",{className:"error-indicator",children:[Object(n.jsx)("div",{className:"loadingio-spinner-magnify-xvi2eomm9dk",children:Object(n.jsx)("div",{className:"ldio-djr5te9pz2p",children:Object(n.jsx)("div",{children:Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{}),Object(n.jsx)("div",{})]})})})}),Object(n.jsxs)("span",{className:"error-message",children:[Object(n.jsx)("div",{children:"BOOM! Something has gone wrong!"}),Object(n.jsx)("div",{children:"(but we already sent droids to fix it)"})]})]})}),p=function(e){Object(j.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(o.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return Object(u.a)(r,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?Object(n.jsx)(b,{}):this.props.children}}]),r}(a.Component),m=r(3),f=function(e){return function(t){Object(j.a)(a,t);var r=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return(e=r.call.apply(r,[this].concat(n))).state={data:null,loading:!0,error:!1},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.getData;this.setState({loading:!0,error:!1}),t().then((function(t){e.setState({data:t,loading:!1})})).catch((function(){return e.setState({error:!0,loading:!1})}))}},{key:"render",value:function(){var t=this.state,r=t.data,a=t.loading,s=t.error;return a?Object(n.jsx)(h,{}):s?Object(n.jsx)(b,{}):Object(n.jsx)(e,Object(m.a)(Object(m.a)({},this.props),{},{data:r}))}}]),a}(a.Component)},O=s.a.createContext(),x=O.Provider,g=O.Consumer,v=function(e){return function(t){return function(r){return Object(n.jsx)(g,{children:function(a){var s=e(a);return Object(n.jsx)(t,Object(m.a)(Object(m.a)({},r),s))}})}}},y=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}},w=(r(19),function(e){Object(j.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(o.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={planet:{},loading:!0},e.updatePlanet=function(){(0,e.props.getData)(Math.floor(25*Math.random())+3).then((function(t){return e.setState({planet:t,loading:!1})})).catch((function(){return e.setState({loading:!1})}))},e}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.updatePlanet(),this.interval=setInterval(this.updatePlanet,1e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.state,t=e.planet,r=e.loading,a=!r,s=r?Object(n.jsx)(h,{}):null,c=a?Object(n.jsx)(I,{planet:t}):null;return Object(n.jsx)(p,{children:Object(n.jsxs)("div",{className:"random-planet jumbotron rounded",children:[s,c]})})}}]),r}(a.Component)),I=function(e){var t=e.planet,r=t.id,a=t.name,c=t.population,i=t.rotationPeriod,l=t.diameter,o=t.terrain;return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)("img",{className:"planet-image",src:"https://starwars-visualguide.com/assets/img/planets/".concat(r,".jpg")}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h4",{children:a}),Object(n.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(n.jsxs)("li",{className:"list-group-item",children:[Object(n.jsx)("span",{className:"term",children:"Population"}),Object(n.jsx)("span",{children:c})]}),Object(n.jsxs)("li",{className:"list-group-item",children:[Object(n.jsx)("span",{className:"term",children:"Rotation Period"}),Object(n.jsx)("span",{children:i})]}),Object(n.jsxs)("li",{className:"list-group-item",children:[Object(n.jsx)("span",{className:"term",children:"Diameter"}),Object(n.jsx)("span",{children:l})]}),Object(n.jsxs)("li",{className:"list-group-item",children:[Object(n.jsx)("span",{className:"term",children:"Terrain"}),Object(n.jsx)("span",{children:o})]})]})]})]})},N=v((function(e){return{getData:e.getPlanet}}))(w),P=function(e){var t=e.left,r=e.right;return Object(n.jsxs)("div",{className:"row mb2",children:[Object(n.jsx)("div",{className:"col-md-6",children:t}),Object(n.jsx)("div",{className:"col-md-6",children:r})]})},k=(r(20),function(e){var t=e.data,r=e.onItemSelected,a=e.children,s=t.map((function(e){var t=e.id,s=a(e);return Object(n.jsx)("li",{className:"list-group-item",onClick:function(){return r(t)},children:s},t)}));return Object(n.jsx)(p,{children:Object(n.jsx)("div",{className:"item-list",children:Object(n.jsx)("ul",{className:"list-group",children:s})})})}),S=y(v((function(e){return{getData:e.getAllPeople}})),f)(k),C=y(v((function(e){return{getData:e.getAllSrarships}})),f)(k),_=y(v((function(e){return{getData:e.getAllPlanets}})),f)(k),D=(r(21),function(e){Object(j.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(o.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={item:null,image:null},e}return Object(u.a)(r,[{key:"updateItemDetails",value:function(){var e=this,t=this.props,r=t.id,n=t.getData,a=t.getImageUrl;r&&n(r).then((function(t){e.setState({item:t,image:a(r)})}))}},{key:"componentDidMount",value:function(){this.updateItemDetails()}},{key:"componentDidUpdate",value:function(e){this.props.id!==e.id&&this.updateItemDetails()}},{key:"render",value:function(){var e=this.state,t=e.item,r=e.image;if(!t)return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)("span",{children:"Select an item from list!"}),Object(n.jsx)(h,{})]});var c=t.name;return Object(n.jsx)(p,{children:Object(n.jsxs)("div",{className:"item-details card",children:[Object(n.jsx)("img",{className:"item-image",src:r}),Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("h3",{children:c}),Object(n.jsx)("ul",{className:"list-group list-group-flush",children:a.Children.map(this.props.children,(function(e){return s.a.cloneElement(e,{item:t})}))})]})]})})}}]),r}(a.Component)),U=function(e){var t=e.item,r=e.field,a=e.label;return Object(n.jsxs)("li",{className:"list-group-item",children:[Object(n.jsx)("span",{className:"term",children:a}),Object(n.jsx)("span",{children:t[r]})]})},A=v((function(e){return{getData:e.getPerson,getImageUrl:e.getPersonImageUrl}}))((function(e){return Object(n.jsxs)(D,Object(m.a)(Object(m.a)({},e),{},{children:[Object(n.jsx)(U,{field:"gender",label:"Gender"}),Object(n.jsx)(U,{field:"birthYear",label:"Birth Year"}),Object(n.jsx)(U,{field:"eyeColor",label:"Eye color"}),Object(n.jsx)(U,{field:"hairColor",label:"Hair Color"}),Object(n.jsx)(U,{field:"skinColor",label:"Skin Color"}),Object(n.jsx)(U,{field:"height",label:"Height"}),Object(n.jsx)(U,{field:"mass",label:"Mass"})]}))})),R=v((function(e){return{getData:e.getStarship,getImageUrl:e.getStarshipImageUrl}}))((function(e){return Object(n.jsxs)(D,Object(m.a)(Object(m.a)({},e),{},{children:[Object(n.jsx)(U,{field:"model",label:"Model"}),Object(n.jsx)(U,{field:"starshipClass",label:"Starship class"}),Object(n.jsx)(U,{field:"manufacturer",label:"Manufacturer"}),Object(n.jsx)(U,{field:"costInCredits",label:"Cost in credits"}),Object(n.jsx)(U,{field:"length",label:"Length"}),Object(n.jsx)(U,{field:"crew",label:"Crew"}),Object(n.jsx)(U,{field:"passengers",label:"Passengers"})]}))})),E=v((function(e){return{getData:e.getPlanet,getImageUrl:e.getPlanetImageUrl}}))((function(e){return Object(n.jsxs)(D,Object(m.a)(Object(m.a)({},e),{},{children:[Object(n.jsx)(U,{field:"population",label:"Population"}),Object(n.jsx)(U,{field:"rotationPeriod",label:"Rotation period"}),Object(n.jsx)(U,{field:"diameter",label:"Diameter"}),Object(n.jsx)(U,{field:"terrain",label:"Terrain"})]}))})),M=function(e){Object(j.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(o.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={selectedItem:"3"},e.onItemSelected=function(t){e.setState({selectedItem:t})},e}return Object(u.a)(r,[{key:"render",value:function(){var e=this.state.selectedItem,t=Object(n.jsx)(S,{onItemSelected:this.onItemSelected,children:function(e){return"".concat(e.name," (").concat(e.gender,")")}}),r=Object(n.jsx)(A,{id:e});return Object(n.jsx)(p,{children:Object(n.jsx)(P,{left:t,right:r})})}}]),r}(a.Component),q=(a.Component,a.Component,r(4)),B=r.n(q),Y=r(8),F=function e(){var t=this;Object(o.a)(this,e),this._baseUrl="https://swapi.dev/api",this._baseImageUrl="https://starwars-visualguide.com/assets/img",this.getResource=function(){var e=Object(Y.a)(B.a.mark((function e(r){var n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._baseUrl).concat(r));case 2:return n=e.sent,e.next=5,n.json();case 5:if(a=e.sent,200===n.status){e.next=8;break}throw new Error("Could not fetch ".concat(r,". Recieved status code ").concat(n.status));case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getPersonImageUrl=function(e){return"".concat(t._baseImageUrl,"/characters/").concat(e,".jpg")},this.getStarshipImageUrl=function(e){return"".concat(t._baseImageUrl,"/starships/").concat(e,".jpg")},this.getPlanetImageUrl=function(e){return"".concat(t._baseImageUrl,"/planets/").concat(e,".jpg")},this.getAllPeople=Object(Y.a)(B.a.mark((function e(){var r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/people/");case 2:return r=e.sent,e.abrupt("return",r.results.map(t._transformPerson));case 4:case"end":return e.stop()}}),e)}))),this.getPerson=function(){var e=Object(Y.a)(B.a.mark((function e(r){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/people/".concat(r));case 2:return n=e.sent,e.abrupt("return",t._transformPerson(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllPlanets=Object(Y.a)(B.a.mark((function e(){var r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/planets/");case 2:return r=e.sent,e.abrupt("return",r.results.map(t._transformPlanet));case 4:case"end":return e.stop()}}),e)}))),this.getPlanet=function(){var e=Object(Y.a)(B.a.mark((function e(r){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/planets/".concat(r));case 2:return n=e.sent,e.abrupt("return",t._transformPlanet(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllStarships=Object(Y.a)(B.a.mark((function e(){var r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/starships/");case 2:return r=e.sent,e.abrupt("return",r.results);case 4:case"end":return e.stop()}}),e)}))),this.getStarship=function(){var e=Object(Y.a)(B.a.mark((function e(r){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/starships/".concat(r));case 2:return n=e.sent,e.abrupt("return",t._transformStarship(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._getExtractId=function(e){return e.url.match(/\/([0-9]*)\/$/)[1]},this._transformPlanet=function(e){return{id:t._getExtractId(e),name:e.name,population:e.population,rotationPeriod:e.rotation_period,diameter:e.diameter,terrain:e.terrain}},this._transformStarship=function(e){return{id:t._getExtractId(e),name:e.name,model:e.model,starshipClass:e.starship_class,manufacturer:e.manufacturer,costInCredits:e.cost_in_credits,length:e.length,crew:e.crew,passengers:e.passengers}},this._transformPerson=function(e){return{id:t._getExtractId(e),name:e.name,gender:e.gender,birthYear:e.birth_year,eyeColor:e.eye_color,hairColor:e.hair_color,skinColor:e.skin_color,height:e.height,mass:e.mass}}},H=(r(23),function(){var e=new F;return Object(n.jsx)(p,{children:Object(n.jsx)(x,{value:e,children:Object(n.jsxs)("div",{className:"stardb-app",children:[Object(n.jsx)(l,{}),Object(n.jsx)(N,{}),Object(n.jsx)(M,{})]})})})});i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(H,{})}),document.querySelector(".root"))}],[[24,1,2]]]);
//# sourceMappingURL=main.99852cff.chunk.js.map
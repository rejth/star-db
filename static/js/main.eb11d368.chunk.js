(this["webpackJsonpstar-db"]=this["webpackJsonpstar-db"]||[]).push([[0],{29:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(1),c=n.n(a),s=n(22),i=n.n(s),l=n(14),o=n(2),u=(n(29),function(){return Object(r.jsxs)("div",{className:"header d-flex",children:[Object(r.jsx)("h3",{children:Object(r.jsx)(l.b,{to:"/",children:"StarDB"})}),Object(r.jsxs)("ul",{className:"header-links d-flex",children:[Object(r.jsx)("li",{children:Object(r.jsx)(l.b,{to:"/people",children:"People"})}),Object(r.jsx)("li",{children:Object(r.jsx)(l.b,{to:"/planets",children:"Planets"})}),Object(r.jsx)("li",{children:Object(r.jsx)(l.b,{to:"/starships",children:"Starships"})})]})]})}),j=n(4),d=n(7),h=n(9),b=n(8),p=(n(35),function(){return Object(r.jsx)("div",{className:"loadingio-spinner-double-ring-quh3a49vtmd",children:Object(r.jsxs)("div",{className:"ldio-9opildb5qm5",children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{children:Object(r.jsx)("div",{})}),Object(r.jsx)("div",{children:Object(r.jsx)("div",{})})]})})}),m=(n(36),function(){return Object(r.jsxs)("div",{className:"error-indicator",children:[Object(r.jsx)("div",{className:"loadingio-spinner-magnify-xvi2eomm9dk",children:Object(r.jsx)("div",{className:"ldio-djr5te9pz2p",children:Object(r.jsx)("div",{children:Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{})]})})})}),Object(r.jsxs)("span",{className:"error-message",children:[Object(r.jsx)("div",{children:"BOOM! Something has gone wrong!"}),Object(r.jsx)("div",{children:"(but we already sent droids to fix it)"})]})]})}),f=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(j.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return Object(d.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?Object(r.jsx)(m,{}):this.props.children}}]),n}(a.Component),O=n(5),x=function(e){return function(t){Object(h.a)(a,t);var n=Object(b.a)(a);function a(){var e;Object(j.a)(this,a);for(var t=arguments.length,r=new Array(t),c=0;c<t;c++)r[c]=arguments[c];return(e=n.call.apply(n,[this].concat(r))).state={data:null,loading:!0,error:!1},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.getData;this.setState({loading:!0,error:!1}),t().then((function(t){e.setState({data:t,loading:!1})})).catch((function(){return e.setState({error:!0,loading:!1})}))}},{key:"render",value:function(){var t=this.state,n=t.data,a=t.loading,c=t.error;return a?Object(r.jsx)(p,{}):c?Object(r.jsx)(m,{}):Object(r.jsx)(e,Object(O.a)(Object(O.a)({},this.props),{},{data:n}))}}]),a}(a.Component)},g=c.a.createContext(),v=g.Provider,I=g.Consumer,y=function(e){return function(t){return function(n){return Object(r.jsx)(I,{children:function(a){var c=e(a);return Object(r.jsx)(t,Object(O.a)(Object(O.a)({},n),c))}})}}},S=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}},w=(n(37),function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(j.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={planet:{},loading:!0},e.updatePlanet=function(){(0,e.props.getData)(Math.floor(25*Math.random())+3).then((function(t){return e.setState({planet:t,loading:!1})})).catch((function(){return e.setState({loading:!1})}))},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.updatePlanet(),this.interval=setInterval(this.updatePlanet,1e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.state,t=e.planet,n=e.loading,a=!n,c=n?Object(r.jsx)(p,{}):null,s=a?Object(r.jsx)(N,{planet:t}):null;return Object(r.jsx)(f,{children:Object(r.jsxs)("div",{className:"random-planet jumbotron rounded",children:[c,s]})})}}]),n}(a.Component)),N=function(e){var t=e.planet,n=t.id,a=t.name,s=t.population,i=t.rotationPeriod,l=t.diameter,o=t.terrain;return Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsx)("img",{className:"planet-image",src:"https://starwars-visualguide.com/assets/img/planets/".concat(n,".jpg")}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:a}),Object(r.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(r.jsxs)("li",{className:"list-group-item",children:[Object(r.jsx)("span",{className:"term",children:"Population"}),Object(r.jsx)("span",{children:s})]}),Object(r.jsxs)("li",{className:"list-group-item",children:[Object(r.jsx)("span",{className:"term",children:"Rotation Period"}),Object(r.jsx)("span",{children:i})]}),Object(r.jsxs)("li",{className:"list-group-item",children:[Object(r.jsx)("span",{className:"term",children:"Diameter"}),Object(r.jsx)("span",{children:l})]}),Object(r.jsxs)("li",{className:"list-group-item",children:[Object(r.jsx)("span",{className:"term",children:"Terrain"}),Object(r.jsx)("span",{children:o})]})]})]})]})},P=y((function(e){return{getData:e.getPlanet}}))(w),k=function(e){var t=e.left,n=e.right;return Object(r.jsxs)("div",{className:"row mb2",children:[Object(r.jsx)("div",{className:"col-md-6",children:t}),Object(r.jsx)("div",{className:"col-md-6",children:n})]})},C=(n(38),function(e){var t=e.data,n=e.onItemSelected,a=e.children,c=t.map((function(e){var t=e.id,c=a(e);return Object(r.jsx)("li",{className:"list-group-item",onClick:function(){return n(t)},children:c},t)}));return Object(r.jsx)(f,{children:Object(r.jsx)("div",{className:"item-list",children:Object(r.jsx)("ul",{className:"list-group",children:c})})})}),_=S(y((function(e){return{getData:e.getAllPeople}})),x)(C),D=S(y((function(e){return{getData:e.getAllStarships}})),x)(C),U=S(y((function(e){return{getData:e.getAllPlanets}})),x)(C),A=(n(39),function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(j.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={item:null,image:null},e}return Object(d.a)(n,[{key:"updateItemDetails",value:function(){var e=this,t=this.props,n=t.id,r=t.getData,a=t.getImageUrl;n&&r(n).then((function(t){e.setState({item:t,image:a(n)})}))}},{key:"componentDidMount",value:function(){this.updateItemDetails()}},{key:"componentDidUpdate",value:function(e){this.props.id!==e.id&&this.updateItemDetails()}},{key:"render",value:function(){var e=this.state,t=e.item,n=e.image;if(!t)return Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsx)("span",{children:"Select an item from list!"}),Object(r.jsx)(p,{})]});var s=t.name;return Object(r.jsx)(f,{children:Object(r.jsxs)("div",{className:"item-details card",children:[Object(r.jsx)("img",{className:"item-image",src:n}),Object(r.jsxs)("div",{className:"card-body",children:[Object(r.jsx)("h3",{children:s}),Object(r.jsx)("ul",{className:"list-group list-group-flush",children:a.Children.map(this.props.children,(function(e){return c.a.cloneElement(e,{item:t})}))})]})]})})}}]),n}(a.Component)),R=function(e){var t=e.item,n=e.field,a=e.label;return Object(r.jsxs)("li",{className:"list-group-item",children:[Object(r.jsx)("span",{className:"term",children:a}),Object(r.jsx)("span",{children:t[n]})]})},E=y((function(e){return{getData:e.getPerson,getImageUrl:e.getPersonImageUrl}}))((function(e){return Object(r.jsxs)(A,Object(O.a)(Object(O.a)({},e),{},{children:[Object(r.jsx)(R,{field:"gender",label:"Gender"}),Object(r.jsx)(R,{field:"birthYear",label:"Birth Year"}),Object(r.jsx)(R,{field:"eyeColor",label:"Eye color"}),Object(r.jsx)(R,{field:"hairColor",label:"Hair Color"}),Object(r.jsx)(R,{field:"skinColor",label:"Skin Color"}),Object(r.jsx)(R,{field:"height",label:"Height"}),Object(r.jsx)(R,{field:"mass",label:"Mass"})]}))})),M=y((function(e){return{getData:e.getStarship,getImageUrl:e.getStarshipImageUrl}}))((function(e){return Object(r.jsxs)(A,Object(O.a)(Object(O.a)({},e),{},{children:[Object(r.jsx)(R,{field:"model",label:"Model"}),Object(r.jsx)(R,{field:"starshipClass",label:"Starship class"}),Object(r.jsx)(R,{field:"manufacturer",label:"Manufacturer"}),Object(r.jsx)(R,{field:"costInCredits",label:"Cost in credits"}),Object(r.jsx)(R,{field:"length",label:"Length"}),Object(r.jsx)(R,{field:"crew",label:"Crew"}),Object(r.jsx)(R,{field:"passengers",label:"Passengers"})]}))})),B=y((function(e){return{getData:e.getPlanet,getImageUrl:e.getPlanetImageUrl}}))((function(e){return Object(r.jsxs)(A,Object(O.a)(Object(O.a)({},e),{},{children:[Object(r.jsx)(R,{field:"population",label:"Population"}),Object(r.jsx)(R,{field:"rotationPeriod",label:"Rotation period"}),Object(r.jsx)(R,{field:"diameter",label:"Diameter"}),Object(r.jsx)(R,{field:"terrain",label:"Terrain"})]}))})),q=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(j.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={selectedItem:"5"},e.onItemSelected=function(t){e.setState({selectedItem:t})},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.state.selectedItem,t=Object(r.jsx)(_,{onItemSelected:this.onItemSelected,children:function(e){return"".concat(e.name," (").concat(e.gender,")")}}),n=Object(r.jsx)(E,{id:e});return Object(r.jsx)(f,{children:Object(r.jsx)(k,{left:t,right:n})})}}]),n}(a.Component),Y=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(j.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={selectedItem:"5"},e.onItemSelected=function(t){e.setState({selectedItem:t})},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.state.selectedItem,t=Object(r.jsx)(U,{onItemSelected:this.onItemSelected,children:function(e){return"".concat(e.name," (").concat(e.terrain,")")}}),n=Object(r.jsx)(B,{id:e});return Object(r.jsx)(f,{children:Object(r.jsx)(k,{left:t,right:n})})}}]),n}(a.Component),F=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(j.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={selectedItem:"5"},e.onItemSelected=function(t){e.setState({selectedItem:t})},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.state.selectedItem,t=Object(r.jsx)(D,{onItemSelected:this.onItemSelected,children:function(e){return"".concat(e.name," (").concat(e.model,")")}}),n=Object(r.jsx)(M,{id:e});return Object(r.jsx)(f,{children:Object(r.jsx)(k,{left:t,right:n})})}}]),n}(a.Component),H=n(6),J=n.n(H),T=n(13),W=function e(){var t=this;Object(j.a)(this,e),this._baseUrl="https://swapi.dev/api",this._baseImageUrl="https://starwars-visualguide.com/assets/img",this.getResource=function(){var e=Object(T.a)(J.a.mark((function e(n){var r,a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._baseUrl).concat(n));case 2:return r=e.sent,e.next=5,r.json();case 5:if(a=e.sent,200===r.status){e.next=8;break}throw new Error("Could not fetch ".concat(n,". Recieved status code ").concat(r.status));case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getPersonImageUrl=function(e){return"".concat(t._baseImageUrl,"/characters/").concat(e,".jpg")},this.getStarshipImageUrl=function(e){return"".concat(t._baseImageUrl,"/starships/").concat(e,".jpg")},this.getPlanetImageUrl=function(e){return"".concat(t._baseImageUrl,"/planets/").concat(e,".jpg")},this.getAllPeople=Object(T.a)(J.a.mark((function e(){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/people/");case 2:return n=e.sent,e.abrupt("return",n.results.map(t._transformPerson));case 4:case"end":return e.stop()}}),e)}))),this.getPerson=function(){var e=Object(T.a)(J.a.mark((function e(n){var r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/people/".concat(n));case 2:return r=e.sent,e.abrupt("return",t._transformPerson(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllPlanets=Object(T.a)(J.a.mark((function e(){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/planets/");case 2:return n=e.sent,e.abrupt("return",n.results.map(t._transformPlanet));case 4:case"end":return e.stop()}}),e)}))),this.getPlanet=function(){var e=Object(T.a)(J.a.mark((function e(n){var r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/planets/".concat(n));case 2:return r=e.sent,e.abrupt("return",t._transformPlanet(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllStarships=Object(T.a)(J.a.mark((function e(){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/starships/");case 2:return n=e.sent,e.abrupt("return",n.results.map(t._transformStarship));case 4:case"end":return e.stop()}}),e)}))),this.getStarship=function(){var e=Object(T.a)(J.a.mark((function e(n){var r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/starships/".concat(n));case 2:return r=e.sent,e.abrupt("return",t._transformStarship(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._getExtractId=function(e){return e.url.match(/\/([0-9]*)\/$/)[1]},this._transformPlanet=function(e){return{id:t._getExtractId(e),name:e.name,population:e.population,rotationPeriod:e.rotation_period,diameter:e.diameter,terrain:e.terrain}},this._transformStarship=function(e){return{id:t._getExtractId(e),name:e.name,model:e.model,starshipClass:e.starship_class,manufacturer:e.manufacturer,costInCredits:e.cost_in_credits,length:e.length,crew:e.crew,passengers:e.passengers}},this._transformPerson=function(e){return{id:t._getExtractId(e),name:e.name,gender:e.gender,birthYear:e.birth_year,eyeColor:e.eye_color,hairColor:e.hair_color,skinColor:e.skin_color,height:e.height,mass:e.mass}}},z=(n(41),function(){var e=new W;return Object(r.jsx)(f,{children:Object(r.jsx)(v,{value:e,children:Object(r.jsx)(l.a,{children:Object(r.jsxs)("div",{className:"stardb-app",children:[Object(r.jsx)(u,{}),Object(r.jsx)(P,{}),Object(r.jsx)(o.a,{path:"/",exact:!0,render:function(){return Object(r.jsx)("h2",{children:"Welcome to StarDB"})}}),Object(r.jsx)(o.a,{path:"/people",component:q}),Object(r.jsx)(o.a,{path:"/planets",component:Y}),Object(r.jsx)(o.a,{path:"/starships",component:F})]})})})})});i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(z,{})}),document.querySelector(".root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.eb11d368.chunk.js.map
(this["webpackJsonpstar-db"]=this["webpackJsonpstar-db"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,r){},,function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(1),s=r.n(a),c=r(10),i=r.n(c),o=r(2),l=r(4),u=r(6),j=r(5),d=(r(16),function(){return Object(n.jsxs)("div",{className:"header d-flex",children:[Object(n.jsx)("h3",{children:Object(n.jsx)("a",{href:"#",children:"Star DB"})}),Object(n.jsxs)("ul",{className:"header-links d-flex",children:[Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"#",children:"People"})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"#",children:"Planets"})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"#",children:"Starships"})})]})]})}),h=r(3),b=r.n(h),p=r(7),m=function e(){var t=this;Object(o.a)(this,e),this._baseUrl="https://swapi.dev/api",this._baseImageUrl="https://starwars-visualguide.com/assets/img",this.getResource=function(){var e=Object(p.a)(b.a.mark((function e(r){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._baseUrl).concat(r));case 2:return n=e.sent,e.next=5,n.json();case 5:if(a=e.sent,200===n.status){e.next=8;break}throw new Error("Could not fetch ".concat(r,". Recieved status code ").concat(n.status));case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getPersonImageUrl=function(e){return"".concat(t._baseImageUrl,"/characters/").concat(e,".jpg")},this.getStarshipImageUrl=function(e){return"".concat(t._baseImageUrl,"/starships/").concat(e,".jpg")},this.getPlanetImageUrl=function(e){return"".concat(t._baseImageUrl,"/planets/").concat(e,".jpg")},this.getAllPeople=Object(p.a)(b.a.mark((function e(){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/people/");case 2:return r=e.sent,e.abrupt("return",r.results.map(t._transformPerson));case 4:case"end":return e.stop()}}),e)}))),this.getPerson=function(){var e=Object(p.a)(b.a.mark((function e(r){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/people/".concat(r));case 2:return n=e.sent,e.abrupt("return",t._transformPerson(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllPlanets=Object(p.a)(b.a.mark((function e(){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/planets/");case 2:return r=e.sent,e.abrupt("return",r.results.map(t._transformPlanet));case 4:case"end":return e.stop()}}),e)}))),this.getPlanet=function(){var e=Object(p.a)(b.a.mark((function e(r){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/planets/".concat(r));case 2:return n=e.sent,e.abrupt("return",t._transformPlanet(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllStarships=Object(p.a)(b.a.mark((function e(){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/starships/");case 2:return r=e.sent,e.abrupt("return",r.results);case 4:case"end":return e.stop()}}),e)}))),this.getStarship=function(){var e=Object(p.a)(b.a.mark((function e(r){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/starships/".concat(r));case 2:return n=e.sent,e.abrupt("return",t._transformStarship(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._getExtractId=function(e){return e.url.match(/\/([0-9]*)\/$/)[1]},this._transformPlanet=function(e){return{id:t._getExtractId(e),name:e.name,population:e.population,rotationPeriod:e.rotation_period,diameter:e.diameter,terrain:e.terrain}},this._transformStarship=function(e){return{id:t._getExtractId(e),name:e.name,model:e.model,starshipClass:e.starship_class,manufacturer:e.manufacturer,costInCredits:e.cost_in_credits,length:e.length,crew:e.crew,passengers:e.passengers}},this._transformPerson=function(e){return{id:t._getExtractId(e),name:e.name,gender:e.gender,birthYear:e.birth_year,eyeColor:e.eye_color,hairColor:e.hair_color,skinColor:e.skin_color,height:e.height,mass:e.mass}}},f=(r(18),function(){return Object(n.jsx)("div",{className:"loadingio-spinner-double-ring-quh3a49vtmd",children:Object(n.jsxs)("div",{className:"ldio-9opildb5qm5",children:[Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{children:Object(n.jsx)("div",{})}),Object(n.jsx)("div",{children:Object(n.jsx)("div",{})})]})})}),O=(r(19),function(){return Object(n.jsxs)("div",{className:"error-indicator",children:[Object(n.jsx)("div",{className:"loadingio-spinner-magnify-xvi2eomm9dk",children:Object(n.jsx)("div",{className:"ldio-djr5te9pz2p",children:Object(n.jsx)("div",{children:Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{}),Object(n.jsx)("div",{})]})})})}),Object(n.jsxs)("span",{className:"error-message",children:[Object(n.jsx)("div",{children:"Something has gone wrong!"}),Object(n.jsx)("div",{children:"(but we already sent droids to fix it)"})]})]})}),x=function(e){Object(u.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(o.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return Object(l.a)(r,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?Object(n.jsx)(O,{}):this.props.children}}]),r}(a.Component),v=(r(20),function(e){Object(u.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(o.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={planet:{},loading:!0},e.swapiService=new m,e.updatePlanet=function(){var t=Math.floor(25*Math.random())+3;e.swapiService.getPlanet(t).then((function(t){return e.setState({planet:t,loading:!1})})).catch((function(){return e.setState({loading:!1})}))},e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){this.updatePlanet(),this.interval=setInterval(this.updatePlanet,1e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.state,t=e.planet,r=e.loading,a=!r,s=r?Object(n.jsx)(f,{}):null,c=a?Object(n.jsx)(g,{planet:t}):null;return Object(n.jsx)(x,{children:Object(n.jsxs)("div",{className:"random-planet jumbotron rounded",children:[s,c]})})}}]),r}(a.Component)),g=function(e){var t=e.planet,r=t.id,a=t.name,c=t.population,i=t.rotationPeriod,o=t.diameter;return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)("img",{className:"planet-image",src:"https://starwars-visualguide.com/assets/img/planets/".concat(r,".jpg")}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h4",{children:a}),Object(n.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(n.jsxs)("li",{className:"list-group-item",children:[Object(n.jsx)("span",{className:"term",children:"Population"}),Object(n.jsx)("span",{children:c})]}),Object(n.jsxs)("li",{className:"list-group-item",children:[Object(n.jsx)("span",{className:"term",children:"Rotation Period"}),Object(n.jsx)("span",{children:i})]}),Object(n.jsxs)("li",{className:"list-group-item",children:[Object(n.jsx)("span",{className:"term",children:"Diameter"}),Object(n.jsx)("span",{children:o})]})]})]})]})},w=v,y=function(e){Object(u.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(o.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={renderError:!1},e}return Object(l.a)(r,[{key:"render",value:function(){var e=this;return this.state.renderError&&(this.foo.bar=0),Object(n.jsx)("button",{className:"error-button btn btn-danger btn-lg",onClick:function(){return e.setState({renderError:!0})},children:"Throw Error"})}}]),r}(a.Component),P=function(e){var t=e.left,r=e.right;return Object(n.jsxs)("div",{className:"row mb2",children:[Object(n.jsx)("div",{className:"col-md-6",children:t}),Object(n.jsx)("div",{className:"col-md-6",children:r})]})},k=(r(21),function(e){var t=e.data,r=e.onItemSelected,a=e.children,s=t.map((function(e){var t=e.id,s=a(e);return Object(n.jsx)("li",{className:"list-group-item",onClick:function(){return r(t)},children:s},t)}));return Object(n.jsx)("div",{className:"item-list",children:Object(n.jsx)("ul",{className:"list-group",children:s})})}),N=r(9),S=function(e,t){return function(r){Object(u.a)(s,r);var a=Object(j.a)(s);function s(){var e;Object(o.a)(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=a.call.apply(a,[this].concat(r))).state={data:null},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;t().then((function(t){e.setState({data:t})}))}},{key:"render",value:function(){var t=this.state.data;return t?Object(n.jsx)(e,Object(N.a)(Object(N.a)({},this.props),{},{data:t})):Object(n.jsx)(f,{})}}]),s}(a.Component)},C=new m,I=C.getAllPeople,_=C.getAllStarships,E=C.getAllPlanets,R=S(k,I),U=(S(k,_),S(k,E),r(22),function(e){Object(u.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(o.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={item:null,image:null},e}return Object(l.a)(r,[{key:"updateItemDetails",value:function(){var e=this,t=this.props,r=t.itemId,n=t.getData,a=t.getImageUrl;r&&n(r).then((function(t){e.setState({item:t,image:a(r)})}))}},{key:"componentDidMount",value:function(){this.updateItemDetails()}},{key:"componentDidUpdate",value:function(e){this.props.itemId!==e.itemId&&this.updateItemDetails()}},{key:"render",value:function(){if(!this.state.item)return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)("span",{children:"Select an item from list!"}),Object(n.jsx)(f,{})]});var e=this.state,t=e.item,r=e.image,c=t.name;return Object(n.jsxs)("div",{className:"item-details card",children:[Object(n.jsx)("img",{className:"item-image",src:r}),Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("h3",{children:c}),Object(n.jsx)("ul",{className:"list-group list-group-flush",children:a.Children.map(this.props.children,(function(e){return s.a.cloneElement(e,{item:t})}))}),Object(n.jsx)(y,{})]})]})}}]),r}(a.Component)),A=function(e){var t=e.item,r=e.field,a=e.label;return Object(n.jsxs)("li",{className:"list-group-item",children:[Object(n.jsx)("span",{className:"term",children:a}),Object(n.jsx)("span",{children:t[r]})]})},D=s.a.createContext(),M=D.Provider,q=D.Consumer,Y=function(e){var t=e.id;return Object(n.jsx)(q,{children:function(e){var r=e.getPerson,a=e.getPersonImageUrl;return Object(n.jsxs)(U,{itemId:t,getData:r,getImageUrl:a,children:[Object(n.jsx)(A,{field:"gender",label:"Gender"}),Object(n.jsx)(A,{field:"birthYear",label:"Birth Year"}),Object(n.jsx)(A,{field:"eyeColor",label:"Eye color"}),Object(n.jsx)(A,{field:"hairColor",label:"Hair Color"}),Object(n.jsx)(A,{field:"skinColor",label:"Skin Color"}),Object(n.jsx)(A,{field:"height",label:"Height"}),Object(n.jsx)(A,{field:"mass",label:"Mass"})]})}})},B=function(e){Object(u.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(o.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={selectedPerson:"3"},e.onPersonSelected=function(t){e.setState({selectedPerson:t})},e}return Object(l.a)(r,[{key:"render",value:function(){var e=this.state,t=e.selectedPerson;if(e.hasError)return Object(n.jsx)(O,{});var r=Object(n.jsx)(x,{children:Object(n.jsx)(R,{onItemSelected:this.onPersonSelected,children:function(e){return"".concat(e.name," (").concat(e.gender,")")}})}),a=Object(n.jsx)(x,{children:Object(n.jsx)(Y,{id:t})});return Object(n.jsx)(x,{children:Object(n.jsx)(P,{left:r,right:a})})}}]),r}(a.Component),F=(r(23),function(e){Object(u.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(o.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={showRandomPlanet:!0,hasError:!1},e.swapiService=new m,e.toggleRandomPlanet=function(){e.setState((function(e){return{showRandomPlanet:!e.showRandomPlanet}}))},e}return Object(l.a)(r,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){var e=this.state,t=e.showRandomPlanet;if(e.hasError)return Object(n.jsx)(O,{});var r=t?Object(n.jsx)(w,{}):null,a=Object(n.jsxs)("div",{className:"row mb2 button-row",children:[Object(n.jsx)("button",{className:"toggle-planet btn btn-warning btn-lg",onClick:this.toggleRandomPlanet,children:"Toggle Random Planet"}),Object(n.jsx)(y,{})]});return Object(n.jsx)(x,{children:Object(n.jsx)(M,{value:this.swapiService,children:Object(n.jsxs)("div",{className:"stardb-app",children:[Object(n.jsx)(d,{}),r,a,Object(n.jsx)(B,{})]})})})}}]),r}(a.Component));i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(F,{})}),document.querySelector(".root"))}],[[24,1,2]]]);
//# sourceMappingURL=main.dcc8ecc5.chunk.js.map
{"version":3,"sources":["components/Header/index.js","components/Header/Header.js","services/swapi-service.js","components/Spinner/index.js","components/Spinner/Spinner.js","components/ErrorIndicator/index.js","components/ErrorIndicator/ErrorIndicator.js","components/ErrorBoundry/index.js","components/ErrorBoundry/ErrorBoundry.js","components/RandomPlanet/RandomPlanet.js","components/RandomPlanet/index.js","components/ErrorButton/index.js","components/ErrorButton/ErrorButton.js","components/RowEntity/index.js","components/RowEntity/RowEntity.js","components/ItemList/index.js","components/ItemList/ItemList.js","components/HocHelpers/index.js","components/HocHelpers/ComponentWrapper.js","components/CommonComponents/CommonItemLists.js","components/ItemDetails/index.js","components/ItemDetails/ItemDetails.js","components/RecordItem/index.js","components/RecordItem/RecordItem.js","components/SwapiServiceContext/SwapiServiceContext.js","components/CommonComponents/CommonItemsDetails.js","components/PeoplePage/index.js","components/PeoplePage/PeoplePage.js","components/App/index.js","components/App/App.js","index.js"],"names":["Header","className","href","SwapiService","_baseUrl","_baseImageUrl","getResource","url","a","fetch","response","json","body","status","Error","getPersonImageUrl","personId","getStarshipImageUrl","starshipId","getPlanetImageUrl","planetId","getAllPeople","results","map","_transformPerson","getPerson","person","getAllPlanets","_transformPlanet","getPlanet","planet","getAllStarships","getStarship","starship","_transformStarship","_getExtractId","item","match","id","name","population","rotationPeriod","rotation_period","diameter","terrain","model","starshipClass","starship_class","manufacturer","costInCredits","cost_in_credits","length","crew","passengers","gender","birthYear","birth_year","eyeColor","eye_color","hairColor","hair_color","skinColor","skin_color","height","mass","Spinner","ErrorIndicator","ErrorBoundry","state","hasError","error","info","this","setState","props","children","Component","RandomPlanet","loading","swapiService","updatePlanet","Math","floor","random","then","catch","interval","setInterval","clearInterval","hasData","spinner","content","PlanetView","Fragment","src","ErrorButton","renderError","foo","bar","onClick","RowEntity","left","right","ItemList","data","onItemSelected","renderLabel","items","label","ItemListWrapper","View","getData","PeopleList","ComponentWrapper","ItemDetails","image","itemId","getImageUrl","updateItemDetails","prevProps","Children","child","React","cloneElement","RecordItem","field","createContext","SwapiServiceProvider","Provider","SwapiServiceConsumer","Consumer","PersonDetails","PeoplePage","selectedPerson","onPersonSelected","peopleList","personDetails","App","showRandomPlanet","toggleRandomPlanet","buttons","value","ReactDOM","render","StrictMode","document","querySelector"],"mappings":"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","file":"static/js/main.dcc8ecc5.chunk.js","sourcesContent":["import Header from './Header';\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nimport './Header.css';\r\n\r\nconst Header = () => (\r\n  <div className=\"header d-flex\">\r\n    <h3>\r\n      <a href=\"#\">Star DB</a>\r\n    </h3>\r\n    <ul className=\"header-links d-flex\">\r\n      <li>\r\n        <a href=\"#\">People</a>\r\n      </li>\r\n      <li>\r\n        <a href=\"#\">Planets</a>\r\n      </li>\r\n      <li>\r\n        <a href=\"#\">Starships</a>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n);\r\n\r\nexport default Header;\r\n","// Код, который работает с сетью лучше изолировать в отдельный класс-сервис\r\n// Компоненты не должны знать откуда именно приходят данные\r\n// Такая инкапсуляция упростит тестирование и поддержку кода, который работает с API\r\n\r\nexport default class SwapiService {\r\n  // _varibale - это code convention JS\r\n  // это приватная часть класса, таким образом мы говорим другим разработчикам,\r\n  // что это переменная, которую не нужно изменять снаружи класса\r\n  _baseUrl = 'https://swapi.dev/api';\r\n  _baseImageUrl = 'https://starwars-visualguide.com/assets/img';\r\n\r\n  // получение данных по API\r\n  getResource = async url => {\r\n    const response = await fetch(`${this._baseUrl}${url}`);\r\n    const body = await response.json();\r\n\r\n    if (response.status !== 200) {\r\n      throw new Error(\r\n        `Could not fetch ${url}. Recieved status code ${response.status}`\r\n      );\r\n    }\r\n\r\n    return body;\r\n  };\r\n\r\n  // получение картинки\r\n  getPersonImageUrl = personId =>\r\n    `${this._baseImageUrl}/characters/${personId}.jpg`;\r\n\r\n  getStarshipImageUrl = starshipId =>\r\n    `${this._baseImageUrl}/starships/${starshipId}.jpg`;\r\n\r\n  getPlanetImageUrl = planetId =>\r\n    `${this._baseImageUrl}/planets/${planetId}.jpg`;\r\n\r\n  // получение всех персонажей\r\n  getAllPeople = async () => {\r\n    const response = await this.getResource('/people/');\r\n    return response.results.map(this._transformPerson);\r\n  };\r\n\r\n  // получение конкретного персонажа\r\n  getPerson = async personId => {\r\n    const person = await this.getResource(`/people/${personId}`);\r\n    return this._transformPerson(person);\r\n  };\r\n\r\n  // получение всех планет\r\n  getAllPlanets = async () => {\r\n    const response = await this.getResource('/planets/');\r\n    return response.results.map(this._transformPlanet);\r\n  };\r\n\r\n  // получение конкретной планеты\r\n  getPlanet = async planetId => {\r\n    const planet = await this.getResource(`/planets/${planetId}`);\r\n    return this._transformPlanet(planet);\r\n  };\r\n\r\n  // получение всех космических кораблей\r\n  getAllStarships = async () => {\r\n    const response = await this.getResource('/starships/');\r\n    return response.results;\r\n  };\r\n\r\n  // получение конкретного корабля\r\n  getStarship = async starshipId => {\r\n    const starship = await this.getResource(`/starships/${starshipId}`);\r\n    return this._transformStarship(starship);\r\n  };\r\n\r\n  _getExtractId = item => {\r\n    const idRegExp = /\\/([0-9]*)\\/$/;\r\n    return item.url.match(idRegExp)[1];\r\n  };\r\n\r\n  _transformPlanet = planet => ({\r\n    id: this._getExtractId(planet),\r\n    name: planet.name,\r\n    population: planet.population,\r\n    rotationPeriod: planet.rotation_period,\r\n    diameter: planet.diameter,\r\n    terrain: planet.terrain,\r\n  });\r\n\r\n  _transformStarship = starship => ({\r\n    id: this._getExtractId(starship),\r\n    name: starship.name,\r\n    model: starship.model,\r\n    starshipClass: starship.starship_class,\r\n    manufacturer: starship.manufacturer,\r\n    costInCredits: starship.cost_in_credits,\r\n    length: starship.length,\r\n    crew: starship.crew,\r\n    passengers: starship.passengers,\r\n  });\r\n\r\n  _transformPerson = person => ({\r\n    id: this._getExtractId(person),\r\n    name: person.name,\r\n    gender: person.gender,\r\n    birthYear: person.birth_year,\r\n    eyeColor: person.eye_color,\r\n    hairColor: person.hair_color,\r\n    skinColor: person.skin_color,\r\n    height: person.height,\r\n    mass: person.mass,\r\n  });\r\n}\r\n","import Spinner from './Spinner';\r\n\r\nexport default Spinner;\r\n","import React from 'react';\r\nimport './Spinner.css';\r\n\r\nconst Spinner = () => (\r\n  <div className=\"loadingio-spinner-double-ring-quh3a49vtmd\">\r\n    <div className=\"ldio-9opildb5qm5\">\r\n      <div></div>\r\n      <div></div>\r\n      <div>\r\n        <div></div>\r\n      </div>\r\n      <div>\r\n        <div></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default Spinner;\r\n","import ErrorIndicator from './ErrorIndicator';\r\n\r\nexport default ErrorIndicator;\r\n","import React from 'react';\r\n\r\nimport './ErrorIndicator.css';\r\n\r\nconst ErrorIndicator = () => (\r\n  <div className=\"error-indicator\">\r\n    <div className=\"loadingio-spinner-magnify-xvi2eomm9dk\">\r\n      <div className=\"ldio-djr5te9pz2p\">\r\n        <div>\r\n          <div>\r\n            <div></div>\r\n            <div></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <span className=\"error-message\">\r\n      <div>Something has gone wrong!</div>\r\n      <div>(but we already sent droids to fix it)</div>\r\n    </span>\r\n  </div>\r\n);\r\n\r\nexport default ErrorIndicator;\r\n","import ErrorBoundry from './ErrorBoundry';\r\n\r\nexport default ErrorBoundry;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ErrorIndicator from '../ErrorIndicator';\r\n\r\nexport default class ErrorBoundry extends Component {\r\n  state = {\r\n    hasError: false,\r\n  };\r\n\r\n  // аргументы error и info дают много полезной инфы в браузере при возникновении ошибки\r\n  // включаем debugger, далее см. Scope -> Local в браузере\r\n  /*eslint-disable no-unused-vars*/\r\n  componentDidCatch(error, info) {\r\n    this.setState({\r\n      hasError: true,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) return <ErrorIndicator />;\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nErrorBoundry.propTypes = {\r\n  children: PropTypes.object.isRequired,\r\n};\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport SwapiService from '../../services/swapi-service';\r\nimport Spinner from '../Spinner';\r\nimport ErrorBoundry from '../ErrorBoundry';\r\n\r\nimport './RandomPlanet.css';\r\n\r\n// В этом компоненте используется паттерн \"Разделение обязанностей\"\r\n// Компонент RandomPlanet отвечает за логику, содержит состояние и принимает данные по API,\r\n// передавая их компоненту PlanetView для рендеринга.\r\n// компонент PlanetView отвечает только за контент, рендеринг содержимого и отделен\r\n// от основной логики, не знает откуда приходят данные\r\n\r\n// Карточка со случайной планетой\r\nexport default class RandomPlanet extends Component {\r\n  // состояние компонента\r\n  state = {\r\n    planet: {}, // характеристики планеты\r\n    loading: true, // индикатор загрузки\r\n  };\r\n\r\n  // API\r\n  swapiService = new SwapiService();\r\n\r\n  // обновление состояния компонента по API\r\n  updatePlanet = () => {\r\n    // случайный id планеты\r\n    const id = Math.floor(Math.random() * 25) + 3;\r\n    // запрос к серверу\r\n    this.swapiService\r\n      .getPlanet(id)\r\n      .then(planet => this.setState({ planet, loading: false }))\r\n      .catch(() => this.setState({ loading: false }));\r\n  };\r\n\r\n  // 1. В конструкторе не должно быть запросов к серверу по API - это плохая практика!\r\n  // 2. На этапе constructor() компоннет еще не встроен в DOM-дерево (Unmounting), поэтому вызывать setState нельзя!\r\n  // поэтому вместо constructor() используем componentDidMount()\r\n  componentDidMount() {\r\n    this.updatePlanet();\r\n    this.interval = setInterval(this.updatePlanet, 10000);\r\n  }\r\n\r\n  // удаляем таймер после удаления компонента\r\n  componentWillUnmount() {\r\n    clearInterval(this.interval);\r\n  }\r\n\r\n  render() {\r\n    const { planet, loading } = this.state;\r\n    const hasData = !loading;\r\n\r\n    const spinner = loading ? <Spinner /> : null;\r\n    const content = hasData ? <PlanetView planet={planet} /> : null;\r\n\r\n    return (\r\n      <ErrorBoundry>\r\n        <div className=\"random-planet jumbotron rounded\">\r\n          {spinner}\r\n          {content}\r\n        </div>\r\n      </ErrorBoundry>\r\n    );\r\n  }\r\n}\r\n\r\n// Компонент с информацией о планете\r\nconst PlanetView = ({ planet }) => {\r\n  const { id, name, population, rotationPeriod, diameter } = planet;\r\n\r\n  // React.Fragment позволяет группировать JSX-компоненты, не создавая дополнительного DOM-объекта\r\n  // Иначе пришлось бы создавать обертку div, потому что компонент может рендерить только корневой DOM-объект\r\n  return (\r\n    <React.Fragment>\r\n      <img\r\n        className=\"planet-image\"\r\n        src={`https://starwars-visualguide.com/assets/img/planets/${id}.jpg`}\r\n      />\r\n      <div>\r\n        <h4>{name}</h4>\r\n        <ul className=\"list-group list-group-flush\">\r\n          <li className=\"list-group-item\">\r\n            <span className=\"term\">Population</span>\r\n            <span>{population}</span>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className=\"term\">Rotation Period</span>\r\n            <span>{rotationPeriod}</span>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className=\"term\">Diameter</span>\r\n            <span>{diameter}</span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nPlanetView.propTypes = {\r\n  planet: PropTypes.object.isRequired,\r\n};\r\n","import RandomPlanet from './RandomPlanet';\r\n\r\nexport default RandomPlanet;\r\n","import ErrorButton from './ErrorButton';\r\n\r\nexport default ErrorButton;\r\n","import React, { Component } from 'react';\r\n\r\nexport default class ErrorButton extends Component {\r\n  state = {\r\n    renderError: false,\r\n  };\r\n\r\n  render() {\r\n    if (this.state.renderError) {\r\n      this.foo.bar = 0; // fake error\r\n    }\r\n\r\n    return (\r\n      <button\r\n        className=\"error-button btn btn-danger btn-lg\"\r\n        onClick={() => this.setState({ renderError: true })}\r\n      >\r\n        Throw Error\r\n      </button>\r\n    );\r\n  }\r\n}\r\n","import RowEntity from './RowEntity';\r\n\r\nexport default RowEntity;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst RowEntity = ({ left, right }) => (\r\n  <div className=\"row mb2\">\r\n    <div className=\"col-md-6\">{left}</div>\r\n    <div className=\"col-md-6\">{right}</div>\r\n  </div>\r\n);\r\n\r\nRowEntity.propTypes = {\r\n  left: PropTypes.object.isRequired,\r\n  right: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default RowEntity;\r\n","import ItemList from './ItemList';\r\n\r\nexport default ItemList;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './ItemList.css';\r\n\r\n// список сущностей (людей, планет, кораблей)\r\nconst ItemList = props => {\r\n  const { data, onItemSelected, children: renderLabel } = props;\r\n\r\n  // функция для создания элемента списка\r\n  const items = data.map(item => {\r\n    const { id } = item;\r\n    const label = renderLabel(item); // паттерн children (см. файл patterns)\r\n    return (\r\n      <li\r\n        className=\"list-group-item\"\r\n        key={id}\r\n        onClick={() => onItemSelected(id)}\r\n      >\r\n        {label}\r\n      </li>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className=\"item-list\">\r\n      <ul className=\"list-group\">{items}</ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nItemList.propTypes = {\r\n  onItemSelected: PropTypes.func.isRequired,\r\n  children: PropTypes.func.isRequired,\r\n  data: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default ItemList;\r\n","import ItemListWrapper from './ComponentWrapper';\r\n\r\nexport default ItemListWrapper;\r\n","import React, { Component } from 'react';\r\nimport Spinner from '../Spinner';\r\n\r\nconst ItemListWrapper = (View, getData) =>\r\n  class Wrapper extends Component {\r\n    state = {\r\n      data: null, // список сущностей (людей, планет, кораблей)\r\n    };\r\n\r\n    // componentDidMount() - best practice для получения данных от сервера по API\r\n    componentDidMount() {\r\n      getData().then(data => {\r\n        this.setState({\r\n          data,\r\n        });\r\n      });\r\n    }\r\n\r\n    render() {\r\n      const { data } = this.state;\r\n\r\n      if (!data) return <Spinner />;\r\n\r\n      return <View {...this.props} data={data} />;\r\n    }\r\n  };\r\n\r\nexport default ItemListWrapper;\r\n","import SwapiService from '../../services/swapi-service';\r\nimport ItemList from '../ItemList';\r\nimport ComponentWrapper from '../HocHelpers';\r\n\r\nconst swapiService = new SwapiService();\r\n\r\nconst { getAllPeople, getAllStarships, getAllPlanets } = swapiService;\r\n\r\nconst PeopleList = ComponentWrapper(ItemList, getAllPeople);\r\nconst StarshipsList = ComponentWrapper(ItemList, getAllStarships);\r\nconst PlanetsList = ComponentWrapper(ItemList, getAllPlanets);\r\n\r\nexport { PeopleList, StarshipsList, PlanetsList };\r\n","import ItemDetails from './ItemDetails';\r\n\r\nexport default ItemDetails;\r\n","import React, { Component, Children } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Spinner from '../Spinner';\r\nimport ErrorButton from '../ErrorButton';\r\n\r\nimport './ItemDetails.css';\r\n\r\nexport default class ItemDetails extends Component {\r\n  // состояние компонента\r\n  state = {\r\n    item: null, // характеристики сущности {}\r\n    image: null, // картинка сущности\r\n  };\r\n\r\n  // обновление карточки сущности\r\n  updateItemDetails() {\r\n    const { itemId, getData, getImageUrl } = this.props;\r\n\r\n    if (!itemId) return;\r\n\r\n    getData(itemId).then(item => {\r\n      this.setState({ item, image: getImageUrl(itemId) });\r\n    });\r\n  }\r\n\r\n  // показываем карточку сущности в момент подключения компонента в DOM-дерево\r\n  componentDidMount() {\r\n    this.updateItemDetails();\r\n  }\r\n\r\n  // обновляем компонент, когда придет новый props\r\n  componentDidUpdate(prevProps) {\r\n    // условие нужно, чтобы не было бесконечного цикла в результате обновления state и\r\n    // последующего вызова componentDidUpdate(), что в свою очередь снова вызовет обновление state и т.д.\r\n    if (this.props.itemId !== prevProps.itemId) {\r\n      this.updateItemDetails();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    // при первой инцициализации компонента id = null\r\n    // чтобы избежать ошибки, делаем проверку\r\n    if (!this.state.item) {\r\n      return (\r\n        <React.Fragment>\r\n          <span>Select an item from list!</span>\r\n          <Spinner />\r\n        </React.Fragment>\r\n      );\r\n    }\r\n\r\n    const { item, image } = this.state;\r\n\r\n    const { name } = item;\r\n\r\n    return (\r\n      <div className=\"item-details card\">\r\n        <img className=\"item-image\" src={image}></img>\r\n        <div className=\"card-body\">\r\n          <h3>{name}</h3>\r\n          <ul className=\"list-group list-group-flush\">\r\n            {Children.map(this.props.children, child =>\r\n              React.cloneElement(child, { item })\r\n            )}\r\n          </ul>\r\n          <ErrorButton />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nItemDetails.propTypes = {\r\n  itemId: PropTypes.string.isRequired,\r\n  name: PropTypes.string,\r\n  getData: PropTypes.func.isRequired,\r\n  getImageUrl: PropTypes.func.isRequired,\r\n  children: PropTypes.array.isRequired,\r\n};\r\n","import RecordItem from './RecordItem';\r\n\r\nexport default RecordItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst RecordItem = ({ item, field, label }) => (\r\n  <li className=\"list-group-item\">\r\n    <span className=\"term\">{label}</span>\r\n    <span>{item[field]}</span>\r\n  </li>\r\n);\r\n\r\nRecordItem.propTypes = {\r\n  item: PropTypes.object,\r\n  field: PropTypes.string.isRequired,\r\n  label: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default RecordItem;\r\n","import React from 'react';\r\n\r\nconst {\r\n  Provider: SwapiServiceProvider,\r\n  Consumer: SwapiServiceConsumer,\r\n} = React.createContext();\r\n\r\nexport { SwapiServiceProvider, SwapiServiceConsumer };\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ItemDetails from '../ItemDetails';\r\nimport RecordItem from '../RecordItem';\r\nimport { SwapiServiceConsumer } from '../SwapiServiceContext';\r\n\r\nconst PersonDetails = ({ id }) => (\r\n  <SwapiServiceConsumer>\r\n    {({ getPerson, getPersonImageUrl }) => (\r\n      <ItemDetails\r\n        itemId={id}\r\n        getData={getPerson}\r\n        getImageUrl={getPersonImageUrl}\r\n      >\r\n        <RecordItem field=\"gender\" label=\"Gender\" />\r\n        <RecordItem field=\"birthYear\" label=\"Birth Year\" />\r\n        <RecordItem field=\"eyeColor\" label=\"Eye color\" />\r\n        <RecordItem field=\"hairColor\" label=\"Hair Color\" />\r\n        <RecordItem field=\"skinColor\" label=\"Skin Color\" />\r\n        <RecordItem field=\"height\" label=\"Height\" />\r\n        <RecordItem field=\"mass\" label=\"Mass\" />\r\n      </ItemDetails>\r\n    )}\r\n  </SwapiServiceConsumer>\r\n);\r\n\r\nconst StarshipDetails = ({ id }) => (\r\n  <SwapiServiceConsumer>\r\n    {({ getStarship, getStarshipImageUrl }) => (\r\n      <ItemDetails\r\n        itemId={id}\r\n        getData={getStarship}\r\n        getImageUrl={getStarshipImageUrl}\r\n      >\r\n        <RecordItem field=\"model\" label=\"Model\" />\r\n        <RecordItem field=\"starshipClass\" label=\"Starship class\" />\r\n        <RecordItem field=\"manufacturer\" label=\"Manufacturer\" />\r\n        <RecordItem field=\"costInCredits\" label=\"Cost in credits\" />\r\n        <RecordItem field=\"length\" label=\"Length\" />\r\n        <RecordItem field=\"crew\" label=\"Crew\" />\r\n        <RecordItem field=\"passengers\" label=\"Passengers\" />\r\n      </ItemDetails>\r\n    )}\r\n  </SwapiServiceConsumer>\r\n);\r\n\r\nconst PlanetDetails = ({ id }) => (\r\n  <SwapiServiceConsumer>\r\n    {({ getPlanet, getPlanetImageUrl }) => (\r\n      <ItemDetails\r\n        itemId={id}\r\n        getData={getPlanet}\r\n        getImageUrl={getPlanetImageUrl}\r\n      >\r\n        <RecordItem field=\"population\" label=\"Population\" />\r\n        <RecordItem field=\"rotationPeriod\" label=\"Rotation period\" />\r\n        <RecordItem field=\"diameter\" label=\"Diameter\" />\r\n        <RecordItem field=\"terrain\" label=\"Terrain\" />\r\n      </ItemDetails>\r\n    )}\r\n  </SwapiServiceConsumer>\r\n);\r\n\r\nPersonDetails.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n};\r\n\r\nStarshipDetails.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n};\r\n\r\nPlanetDetails.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n};\r\n\r\nexport { PersonDetails, StarshipDetails, PlanetDetails };\r\n","import PeoplePage from './PeoplePage';\r\n\r\nexport default PeoplePage;\r\n","import React, { Component } from 'react';\r\nimport RowEntity from '../RowEntity';\r\nimport { PeopleList, PersonDetails } from '../CommonComponents';\r\nimport ErrorIndicator from '../ErrorIndicator';\r\nimport ErrorBoundry from '../ErrorBoundry';\r\n\r\n// этот компонент нужен для реализации паттерна Error Boundary, чтобы функция componentDidCatch() в App,\r\n// не останавливала ВСЕ приложение в случае ошибки в одном из компонентов приложения\r\n// т.о. мы при возникновении ошибки в компоненте PeoplePage, другие компоненты будут работать,\r\n// потому что React пойдет по дереву DOM вверх, найдет ближайший componentDidCatch(), не дойдя до App\r\n// и выкинет предупреждени об именно в этом компоненте\r\nexport default class PeoplePage extends Component {\r\n  state = {\r\n    selectedPerson: '3',\r\n  };\r\n\r\n  onPersonSelected = selectedPerson => {\r\n    this.setState({ selectedPerson });\r\n  };\r\n\r\n  render() {\r\n    const { selectedPerson, hasError } = this.state;\r\n\r\n    if (hasError) return <ErrorIndicator />;\r\n\r\n    const peopleList = (\r\n      <ErrorBoundry>\r\n        <PeopleList onItemSelected={this.onPersonSelected}>\r\n          {item => `${item.name} (${item.gender})`}\r\n        </PeopleList>\r\n      </ErrorBoundry>\r\n    );\r\n\r\n    const personDetails = (\r\n      <ErrorBoundry>\r\n        <PersonDetails id={selectedPerson} />\r\n      </ErrorBoundry>\r\n    );\r\n\r\n    // паттерн свойства-компоненты\r\n    return (\r\n      <ErrorBoundry>\r\n        <RowEntity left={peopleList} right={personDetails} />\r\n      </ErrorBoundry>\r\n    );\r\n  }\r\n}\r\n","import App from './App';\r\n\r\nexport default App;\r\n","import React, { Component } from 'react';\r\nimport Header from '../Header';\r\nimport RandomPlanet from '../RandomPlanet';\r\nimport ErrorIndicator from '../ErrorIndicator';\r\nimport ErrorButton from '../ErrorButton';\r\nimport ErrorBoundry from '../ErrorBoundry';\r\nimport PeoplePage from '../PeoplePage';\r\nimport SwapiService from '../../services/swapi-service';\r\nimport { SwapiServiceProvider } from '../SwapiServiceContext';\r\nimport './App.css';\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    showRandomPlanet: true,\r\n    hasError: false,\r\n  };\r\n\r\n  swapiService = new SwapiService();\r\n\r\n  toggleRandomPlanet = () => {\r\n    this.setState(state => ({\r\n      showRandomPlanet: !state.showRandomPlanet,\r\n    }));\r\n  };\r\n\r\n  componentDidCatch() {\r\n    this.setState({ hasError: true });\r\n  }\r\n\r\n  render() {\r\n    const { showRandomPlanet, hasError } = this.state;\r\n\r\n    if (hasError) return <ErrorIndicator />;\r\n\r\n    const planet = showRandomPlanet ? <RandomPlanet /> : null;\r\n\r\n    const buttons = (\r\n      <div className=\"row mb2 button-row\">\r\n        <button\r\n          className=\"toggle-planet btn btn-warning btn-lg\"\r\n          onClick={this.toggleRandomPlanet}\r\n        >\r\n          Toggle Random Planet\r\n        </button>\r\n        <ErrorButton />\r\n      </div>\r\n    );\r\n\r\n    return (\r\n      <ErrorBoundry>\r\n        <SwapiServiceProvider value={this.swapiService}>\r\n          <div className=\"stardb-app\">\r\n            <Header />\r\n            {planet}\r\n            {buttons}\r\n            <PeoplePage />\r\n          </div>\r\n        </SwapiServiceProvider>\r\n      </ErrorBoundry>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.querySelector('.root')\r\n);\r\n"],"sourceRoot":""}
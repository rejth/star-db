(this["webpackJsonpstar-db"]=this["webpackJsonpstar-db"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},,function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(1),s=r.n(a),c=r(10),i=r.n(c),l=r(2),o=r(4),u=r(6),j=r(5),d=(r(16),function(){return Object(n.jsxs)("div",{className:"header d-flex",children:[Object(n.jsx)("h3",{children:Object(n.jsx)("a",{href:"#",children:"Star DB"})}),Object(n.jsxs)("ul",{className:"header-links d-flex",children:[Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"#",children:"People"})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"#",children:"Planets"})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"#",children:"Starships"})})]})]})}),h=(r(17),function(){return Object(n.jsx)("div",{className:"loadingio-spinner-double-ring-quh3a49vtmd",children:Object(n.jsxs)("div",{className:"ldio-9opildb5qm5",children:[Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{children:Object(n.jsx)("div",{})}),Object(n.jsx)("div",{children:Object(n.jsx)("div",{})})]})})}),b=(r(18),function(){return Object(n.jsxs)("div",{className:"error-indicator",children:[Object(n.jsx)("div",{className:"loadingio-spinner-magnify-xvi2eomm9dk",children:Object(n.jsx)("div",{className:"ldio-djr5te9pz2p",children:Object(n.jsx)("div",{children:Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{}),Object(n.jsx)("div",{})]})})})}),Object(n.jsxs)("span",{className:"error-message",children:[Object(n.jsx)("div",{children:"Something has gone wrong!"}),Object(n.jsx)("div",{children:"(but we already sent droids to fix it)"})]})]})}),p=function(e){Object(u.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(l.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return Object(o.a)(r,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?Object(n.jsx)(b,{}):this.props.children}}]),r}(a.Component),m=r(8),f=function(e,t){return function(r){Object(u.a)(s,r);var a=Object(j.a)(s);function s(){var e;Object(l.a)(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=a.call.apply(a,[this].concat(r))).state={data:null},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this;t().then((function(t){e.setState({data:t})}))}},{key:"render",value:function(){var t=this.state.data;return t?Object(n.jsx)(e,Object(m.a)(Object(m.a)({},this.props),{},{data:t})):Object(n.jsx)(h,{})}}]),s}(a.Component)},O=s.a.createContext(),x=O.Provider,g=O.Consumer,v=function(e){return function(t){return Object(n.jsx)(g,{children:function(r){return Object(n.jsx)(e,Object(m.a)(Object(m.a)({},t),{},{swapiService:r}))}})}},w=(r(19),function(e){Object(u.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(l.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={planet:{},loading:!0},e.updatePlanet=function(){(0,e.props.swapiService.getPlanet)(Math.floor(25*Math.random())+3).then((function(t){return e.setState({planet:t,loading:!1})})).catch((function(){return e.setState({loading:!1})}))},e}return Object(o.a)(r,[{key:"componentDidMount",value:function(){this.updatePlanet(),this.interval=setInterval(this.updatePlanet,1e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.state,t=e.planet,r=e.loading,a=!r,s=r?Object(n.jsx)(h,{}):null,c=a?Object(n.jsx)(P,{planet:t}):null;return Object(n.jsx)(p,{children:Object(n.jsxs)("div",{className:"random-planet jumbotron rounded",children:[s,c]})})}}]),r}(a.Component)),P=function(e){var t=e.planet,r=t.id,a=t.name,c=t.population,i=t.rotationPeriod,l=t.diameter;return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)("img",{className:"planet-image",src:"https://starwars-visualguide.com/assets/img/planets/".concat(r,".jpg")}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h4",{children:a}),Object(n.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(n.jsxs)("li",{className:"list-group-item",children:[Object(n.jsx)("span",{className:"term",children:"Population"}),Object(n.jsx)("span",{children:c})]}),Object(n.jsxs)("li",{className:"list-group-item",children:[Object(n.jsx)("span",{className:"term",children:"Rotation Period"}),Object(n.jsx)("span",{children:i})]}),Object(n.jsxs)("li",{className:"list-group-item",children:[Object(n.jsx)("span",{className:"term",children:"Diameter"}),Object(n.jsx)("span",{children:l})]})]})]})]})},y=v(w),S=function(e){Object(u.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(l.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={renderError:!1},e}return Object(o.a)(r,[{key:"render",value:function(){var e=this;return this.state.renderError&&(this.foo.bar=0),Object(n.jsx)("button",{className:"error-button btn btn-danger btn-lg",onClick:function(){return e.setState({renderError:!0})},children:"Throw Error"})}}]),r}(a.Component),k=function(e){var t=e.left,r=e.right;return Object(n.jsxs)("div",{className:"row mb2",children:[Object(n.jsx)("div",{className:"col-md-6",children:t}),Object(n.jsx)("div",{className:"col-md-6",children:r})]})},I=(r(20),function(e){var t=e.data,r=e.onItemSelected,a=e.children,s=t.map((function(e){var t=e.id,s=a(e);return Object(n.jsx)("li",{className:"list-group-item",onClick:function(){return r(t)},children:s},t)}));return Object(n.jsx)("div",{className:"item-list",children:Object(n.jsx)("ul",{className:"list-group",children:s})})}),N=r(3),C=r.n(N),_=r(7),E=function e(){var t=this;Object(l.a)(this,e),this._baseUrl="https://swapi.dev/api",this._baseImageUrl="https://starwars-visualguide.com/assets/img",this.getResource=function(){var e=Object(_.a)(C.a.mark((function e(r){var n,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._baseUrl).concat(r));case 2:return n=e.sent,e.next=5,n.json();case 5:if(a=e.sent,200===n.status){e.next=8;break}throw new Error("Could not fetch ".concat(r,". Recieved status code ").concat(n.status));case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getPersonImageUrl=function(e){return"".concat(t._baseImageUrl,"/characters/").concat(e,".jpg")},this.getStarshipImageUrl=function(e){return"".concat(t._baseImageUrl,"/starships/").concat(e,".jpg")},this.getPlanetImageUrl=function(e){return"".concat(t._baseImageUrl,"/planets/").concat(e,".jpg")},this.getAllPeople=Object(_.a)(C.a.mark((function e(){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/people/");case 2:return r=e.sent,e.abrupt("return",r.results.map(t._transformPerson));case 4:case"end":return e.stop()}}),e)}))),this.getPerson=function(){var e=Object(_.a)(C.a.mark((function e(r){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/people/".concat(r));case 2:return n=e.sent,e.abrupt("return",t._transformPerson(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllPlanets=Object(_.a)(C.a.mark((function e(){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/planets/");case 2:return r=e.sent,e.abrupt("return",r.results.map(t._transformPlanet));case 4:case"end":return e.stop()}}),e)}))),this.getPlanet=function(){var e=Object(_.a)(C.a.mark((function e(r){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/planets/".concat(r));case 2:return n=e.sent,e.abrupt("return",t._transformPlanet(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllStarships=Object(_.a)(C.a.mark((function e(){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/starships/");case 2:return r=e.sent,e.abrupt("return",r.results);case 4:case"end":return e.stop()}}),e)}))),this.getStarship=function(){var e=Object(_.a)(C.a.mark((function e(r){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/starships/".concat(r));case 2:return n=e.sent,e.abrupt("return",t._transformStarship(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._getExtractId=function(e){return e.url.match(/\/([0-9]*)\/$/)[1]},this._transformPlanet=function(e){return{id:t._getExtractId(e),name:e.name,population:e.population,rotationPeriod:e.rotation_period,diameter:e.diameter,terrain:e.terrain}},this._transformStarship=function(e){return{id:t._getExtractId(e),name:e.name,model:e.model,starshipClass:e.starship_class,manufacturer:e.manufacturer,costInCredits:e.cost_in_credits,length:e.length,crew:e.crew,passengers:e.passengers}},this._transformPerson=function(e){return{id:t._getExtractId(e),name:e.name,gender:e.gender,birthYear:e.birth_year,eyeColor:e.eye_color,hairColor:e.hair_color,skinColor:e.skin_color,height:e.height,mass:e.mass}}},U=new E,R=U.getAllPeople,D=U.getAllStarships,A=U.getAllPlanets,M=f(I,R),q=(f(I,D),f(I,A),r(22),function(e){Object(u.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(l.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={item:null,image:null},e}return Object(o.a)(r,[{key:"updateItemDetails",value:function(){var e=this,t=this.props,r=t.itemId,n=t.getData,a=t.getImageUrl;r&&n(r).then((function(t){e.setState({item:t,image:a(r)})}))}},{key:"componentDidMount",value:function(){this.updateItemDetails()}},{key:"componentDidUpdate",value:function(e){this.props.itemId!==e.itemId&&this.updateItemDetails()}},{key:"render",value:function(){if(!this.state.item)return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)("span",{children:"Select an item from list!"}),Object(n.jsx)(h,{})]});var e=this.state,t=e.item,r=e.image,c=t.name;return Object(n.jsxs)("div",{className:"item-details card",children:[Object(n.jsx)("img",{className:"item-image",src:r}),Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("h3",{children:c}),Object(n.jsx)("ul",{className:"list-group list-group-flush",children:a.Children.map(this.props.children,(function(e){return s.a.cloneElement(e,{item:t})}))}),Object(n.jsx)(S,{})]})]})}}]),r}(a.Component)),T=function(e){var t=e.item,r=e.field,a=e.label;return Object(n.jsxs)("li",{className:"list-group-item",children:[Object(n.jsx)("span",{className:"term",children:a}),Object(n.jsx)("span",{children:t[r]})]})},Y=v((function(e){var t=e.id,r=e.swapiService,a=r.getPerson,s=r.getPersonImageUrl;return Object(n.jsxs)(q,{itemId:t,getData:a,getImageUrl:s,children:[Object(n.jsx)(T,{field:"gender",label:"Gender"}),Object(n.jsx)(T,{field:"birthYear",label:"Birth Year"}),Object(n.jsx)(T,{field:"eyeColor",label:"Eye color"}),Object(n.jsx)(T,{field:"hairColor",label:"Hair Color"}),Object(n.jsx)(T,{field:"skinColor",label:"Skin Color"}),Object(n.jsx)(T,{field:"height",label:"Height"}),Object(n.jsx)(T,{field:"mass",label:"Mass"})]})})),B=(v((function(e){var t=e.id,r=e.swapiService,a=r.getStarship,s=r.getStarshipImageUrl;return Object(n.jsxs)(q,{itemId:t,getData:a,getImageUrl:s,children:[Object(n.jsx)(T,{field:"model",label:"Model"}),Object(n.jsx)(T,{field:"starshipClass",label:"Starship class"}),Object(n.jsx)(T,{field:"manufacturer",label:"Manufacturer"}),Object(n.jsx)(T,{field:"costInCredits",label:"Cost in credits"}),Object(n.jsx)(T,{field:"length",label:"Length"}),Object(n.jsx)(T,{field:"crew",label:"Crew"}),Object(n.jsx)(T,{field:"passengers",label:"Passengers"})]})})),v((function(e){var t=e.id,r=e.swapiService,a=r.getPlanet,s=r.getPlanetImageUrl;return Object(n.jsxs)(q,{itemId:t,getData:a,getImageUrl:s,children:[Object(n.jsx)(T,{field:"population",label:"Population"}),Object(n.jsx)(T,{field:"rotationPeriod",label:"Rotation period"}),Object(n.jsx)(T,{field:"diameter",label:"Diameter"}),Object(n.jsx)(T,{field:"terrain",label:"Terrain"})]})})),function(e){Object(u.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(l.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={selectedPerson:"3"},e.onPersonSelected=function(t){e.setState({selectedPerson:t})},e}return Object(o.a)(r,[{key:"render",value:function(){var e=this.state,t=e.selectedPerson;if(e.hasError)return Object(n.jsx)(b,{});var r=Object(n.jsx)(p,{children:Object(n.jsx)(M,{onItemSelected:this.onPersonSelected,children:function(e){return"".concat(e.name," (").concat(e.gender,")")}})}),a=Object(n.jsx)(p,{children:Object(n.jsx)(Y,{id:t})});return Object(n.jsx)(p,{children:Object(n.jsx)(k,{left:r,right:a})})}}]),r}(a.Component)),F=(r(23),function(e){Object(u.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(l.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={showRandomPlanet:!0,hasError:!1},e.swapiService=new E,e.toggleRandomPlanet=function(){e.setState((function(e){return{showRandomPlanet:!e.showRandomPlanet}}))},e}return Object(o.a)(r,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){var e=this.state,t=e.showRandomPlanet;if(e.hasError)return Object(n.jsx)(b,{});var r=t?Object(n.jsx)(y,{}):null,a=Object(n.jsxs)("div",{className:"row mb2 button-row",children:[Object(n.jsx)("button",{className:"toggle-planet btn btn-warning btn-lg",onClick:this.toggleRandomPlanet,children:"Toggle Random Planet"}),Object(n.jsx)(S,{})]});return Object(n.jsx)(p,{children:Object(n.jsx)(x,{value:this.swapiService,children:Object(n.jsxs)("div",{className:"stardb-app",children:[Object(n.jsx)(d,{}),r,a,Object(n.jsx)(B,{})]})})})}}]),r}(a.Component));i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(F,{})}),document.querySelector(".root"))}],[[24,1,2]]]);
//# sourceMappingURL=main.a86d0786.chunk.js.map